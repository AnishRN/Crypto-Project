<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>Cryptocurrency Analysis Dashboard</title>
        <script src="https://cdn.plot.ly/plotly-latest.min.js"></script>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@48,400,0,0" />
        <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200" />
        {% load static%}
        <link rel="stylesheet" href="{% static 'dashboard.css'%}">
    </head>
<body>
    <div class="container">
        <aside>
            <div class="top">
                <div class="logo">
                    <h2>CRY<span class="danger">PTO</span></h2>
                </div>
            </div>
           

            <div class="sidebar">
                <a href="/index/">
                    <span class="material-symbols-outlined">dashboard</span>
                    <h3>Dashboard</h3>
                </a>
                <a href="/analysis_index/">
                    <span class="material-symbols-outlined">analytics</span>
                    <h3>Analysis</h3>
                </a>
                <a href="/forecast_index/">
                    <span class="material-symbols-outlined">batch_prediction</span>
                    <h3>Get Forecasts</h3>
                </a>
                <a href="/news/">
                    <span class="material-symbols-outlined">news</span>
                    <h3>News and Trends</h3>
                </a>
                <a href="#">
                    <span class="material-symbols-outlined">settings</span>
                    <h3>Settings</h3>
                </a>
                <a href="#">
                    <span class="material-symbols-outlined">info</span>
                    <h3>About</h3>
                </a>
                <a href="/login/">
                    <span class="material-symbols-outlined">logout</span>
                    <h3>Log Out</h3>
                </a>
            </div>

        </aside>
        
        <main>
            <div class="insights">
                <div class="rates">
                    <div class="btc-info">
                        <img src="{% static 'bitcoin.jpg'%}" id="img">
                        <div class="info">
                            <div class="price-info">
                                <span class="material-symbols-outlined">trending_up</span>
                                <h2>${{ bitcoin_current_price|floatformat:"1" }}k</h2>
                            </div>
                            <div class="volume-info">
                                <span class="material-symbols-outlined">bar_chart</span>
                                <h2>{{ bitcoin_volume|floatformat:"2" }}B</h2>
                            </div>
                        </div>
                    </div>
                    <div class="ltc-info">
                        <img src="{% static 'litecoin.jpg'%}" id="img">
                        <div class="info">
                            <div class="price-info">
                                <span class="material-symbols-outlined">trending_up</span>
                                <h2>${{ litecoin_current_price|floatformat:"2" }}</h2>
                            </div>
                            <div class="volume-info">
                                <span class="material-symbols-outlined">bar_chart</span>
                                <h2>{{ litecoin_volume|floatformat:"2" }}M</h2>
                            </div>
                        </div>
                    </div>
                    <div class="eth-info">
                        <img src="{% static 'ethereum.jpg'%}" id="img">
                        <div class="info">
                            <div class="price-info">
                                <span class="material-symbols-outlined">trending_up</span>
                                <h2>${{ ethereum_current_price|floatformat:"2" }}k</h2>
                            </div>
                            <div class="volume-info">
                                <span class="material-symbols-outlined">bar_chart</span>
                                <h2>{{ ethereum_volume|floatformat:"2" }}B</h2>
                            </div>
                        </div>
                    </div>
                    <div class="dgc-info">
                        <img src="{% static 'dogecoin.jpg'%}" id="img">
                        <div class="info">
                            <div class="price-info">
                                <span class="material-symbols-outlined">trending_up</span>
                                <h2>${{ dogecoin_current_price|floatformat:"2" }}</h2>
                            </div>
                            <div class="volume-info">
                                <span class="material-symbols-outlined">bar_chart</span>
                                <h2>{{ dogecoin_volume|floatformat:"2" }}K</h2>
                            </div>
                        </div>
                    </div>
                    <div class="rpl-info">
                        <img src="{% static 'ripple.png'%}" id="img">
                        <div class="info">
                            <div class="price-info">
                                <span class="material-symbols-outlined">trending_up</span>
                                <h2>${{ ripple_current_price|floatformat:"2" }}</h2>
                            </div>
                            <div class="volume-info">
                                <span class="material-symbols-outlined">bar_chart</span>
                                <h2>{{ ripple_volume|floatformat:"2" }}B</h2>
                            </div>
                        </div>
                    </div>                      
                </div>
                <div class="graph">
                    {% block graph %}
                    {% endblock %}
                </div>
        </main>
    </div>
    <script>
        // Ensure the plot_div variable contains actual Plotly data and layout
        var plot_div = '{{ plot_div | safe }}';
        // Use Plotly.newPlot to initialize the Plotly plot
        Plotly.newPlot('plot', JSON.parse(plot_div).data, JSON.parse(plot_div).layout);
    </script>
</body>
</html>
